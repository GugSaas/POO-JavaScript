<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documento</title>
</head>
<body>
    <script>
        class Pessoa{
            constructor(nome, data_nascimento, cpf, rg=undefined){
                this.nome = nome;
                this.data_nascimento = data_nascimento;
                this.cpf = cpf;
                this.rg = rg;
            }

            getName(){
                return this.nome;
            }

            setName(nome){
                this.nome = nome;
            }

            getData_Nascimento(){
                return this.data_nascimento;
            }

            setData_Nascimento(data){
                this.data_nascimento = data;
            }

            getCpf(){
                return this.cpf;
            }
            
            setCpf(cpf){
                this.cpf = cpf;
            }

            getRg(){
                return this.rg;
            }

            setRg(rg){
                this.rg = rg
            }
        }

        class Aluno extends Pessoa{
            constructor(nome, data_nascimento, cpf, rg=undefined){
                super(nome, data_nascimento, cpf, rg);
                this.notas = [];
            }

            estudar(){
                return 'O Aluno está estudando';
            }

            calcular_media(nota1, nota2){
                var media = nota1 + nota2;
                return media;
            }
        }

        class Professor extends Pessoa{
            constructor(nome, data_nascimento, cpf, rg){
                super(nome, data_nascimento, cpf, rg);
                this.disciplinas = [];
            }

            lecionar(){
                console.log(this.nome, 'está lecionando');
            }

            calculadora(n1, n2, operacao){
                var n1 = parseInt(n1);
                var n2 = parseInt(n2);
                if(operacao == '+'){
                    return n1 + n2;
                }else if(operacao == '-'){
                    return n1 - n2;
                }else if(operacao == '/'){
                    return n1 / n2;
                }else{
                    return n1 * n2;
                }
            }
        }

        var opcao = prompt('Você vai cadastrar um professor ou um aluno? 2/1');
        opcao = parseInt(opcao);

        while(opcao != 1 && opcao != 2){
            alert('Opção errada');
            opcao = prompt('Escolha professor (2) ou aluno (1)');
        }

        if(opcao == 1){
            var aluno1_nome = prompt('Digite o nome do aluno');
            var aluno1_idade = prompt('Digite a data de nascimento do aluno');
            var aluno1_cpf = prompt('Digite o cpf do aluno');
            var aluno1_rg = prompt('Digite o rg do aluno (opcional)');

            aluno1 = new Aluno(aluno1_nome, aluno1_idade, aluno1_cpf, aluno1_rg);

            var alterar = prompt('Deseja alterar alguma informação?');

            if(alterar == 'sim' || alterar == 's'){
                var informacao = prompt('Desejar alterar o nome, idade, cpf ou rg?')
                while(informacao != 'nome' && informacao && 'idade' && informacao != 'cpf' && informacao != 'rg'){
                    alert('Opção errada!');
                    informacao = prompt('Deseja alterar o nome, idade, cpf ou rg?');
                }
                if(informacao == 'nome'){
                    var novo_nome = prompt('Digite o novo nome');
                    aluno1.setName(novo_nome);
                    console.log('Nome alterado com sucesso para:', aluno1.nome);
                }
            }
            
        }else{
            var professor1_nome = prompt('Digite o nome do professor');
            var professor1_idade = prompt('Digite a data de nascimento do professor');
            var professor1_cpf = prompt('Digite o cpf do professor');
            var professor1_rg = prompt('Digite o rg do professor');

            professor1 = new Professor(professor1_nome, professor1_idade, professor1_cpf, professor1_rg);

            var calcular = prompt('Deseja calcular algo agora? S/N');
            while(calcular != 'S' && calcular != 'N'){
                alert('Opção errada!');
                calcular = prompt('Digite novamente a opção');
            }
            if(calcular == 'S'){
                var n1 = prompt('Digite o primeiro número');
                var n2 = prompt('Digite o segundo número');
                var operacao = prompt('Digite a operação +, -, /, *')
                while(operacao != '+' || operacao != '-' || operacao != '/' || operacao != '*'){
                    alert('Opção errada!');
                    operacao = prompt('Digite a operação +, -, /, *');
                }
                alert(professor1.calculadora(n1, n2, operacao));
            }else{
                alert('Ok');
            }

            var trabalhar = prompt('Você irá trabalhar agora? S/N');
            while(trabalhar != 'S' && trabalhar != 'N'){
                alert('Opção errada!');
                trabalhar = prompt('Digite novamente a opção');
            }
            if(trabalhar == 'S'){
                alert(professor1.lecionar())
            }else{
                alert('Professor em repouso')
            }
        }

    </script>
</body>
</html>